lectire04.md

# 第４回課題
## やること
* AWSにVPCを新規作成する。
* EC2,RDSを環境構築
* RDSとEC2を接続することを確認、報告

### VPSの新規作成

- VPS作成時に[VPSなど]の項目を選択した。この時に同時にサブネット、インターネットゲートウェイ。ルートテーブルを同時に作成可能。本来ならVPSを作成した後に個々で作成し、VPSにアタッチする必要があるものを一気に作成できる。
- CIDRブロックは10.0.0.0/16に設定
- パブリックサブネットとプライベートサブネットはデフォルトで2個ずつ作られるのでそのままにした。

### EC2の環境構築
- こちらもウィザードを活用して、先に作ったVPCに作成と同時に入れられるようだった。
- AmazonLinux2を設定すべきところを無料枠内という文字だけでAmazonLinux2023のほうで最初構築してしまったので一度作り直した。
- インスタンスタイプ：t2.micro(無料枠)
- キーペアを作成、任意の名前に設定。
- 作成したVPCを指定。
- セキュリティグループを新規で作成
            - SSH,TCP,22,自分のIPを入れる。
- ネットワークの設定は不安があったので逐一調べながら進めた。
- ネットワークの設定でHTTPではなくSSHを選択するのは単純に安全面を考慮したものなのかと納得した。
- セキュリティグループを作成する際にインバウンドルールの設定も同時にできるが、これらを個々に作成する場合はタイプ、プロトコル、ソース、インバウンドルール、アウトバウンドルールそれぞれの属性を注意しなければいけない。

- EC2を作成完了したためここで一度起動して接続の確認をする
![EC2の接続確認](/lecture04_img/ec2-check.png)

### RDSの環境構築
- 標準作成を選択
- MySQLを選択
- 無料利用枠内を選択
- ストレージなどはそのまま変えず、自動スケーリングをオフに
- EC2コンピューティングを有効にすると、起動中のEC2を設定に組み込むことが可能になるようなので有効にする。
- VPC,サブネットも同時にEC2に紐づいて設定される。
- セキュリティーグループのインバウンドの設定がウィザード上で出来なかったので、RDS作成後に変更した。
            - EC2の属しているセキュリティグルーブからのみ接続可能な状態にする

### EC2からRDSへ接続する
- VsCodeにてEC2に再度接続
- sudo yum install mysqlを実行
![MySQLのインストール](/lecture04_img/mysql-install.png)

- mysql -u admin -p -h データベースのエンドポイントを実行
![RDS接続](/lecture04_img/rds-ec2-connect.png)


#### 今回やって感じたこと
- HTTPの基礎の補足講座をやって感じたのが、通信周りの知識が全くないことだった。GitHubを触り始めた最初の頃に軽く単語たちを見て、結局この違いって何なのだろうという疑問しかなかったので今回少しだけ分かったような気がする。(ほんとに少し...)
- VPCという箱を作り、そこに仮想的なコンピュータをぶち込み(EC2)、データベースサーバーと接続する(RDS)という大まかな図は頭で理解できたように感じる。頭に入っていく早さはカメの歩みのごとしだが、理解できた時は気持ちいいかもしれない。